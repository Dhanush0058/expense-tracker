{% extends "base.html" %}
{% block content %}

<!-- âœ… USER PROFILE & STATS ROW -->
<div class="row mb-4">

  <!-- âœ… USER PROFILE CARD -->
  <div class="col-md-4">
    <div class="card shadow p-3">
      <h5 class="text-primary">ðŸ‘¤ User Profile</h5>
      <hr>
      <p><b>Username:</b> {{ user.username }}</p>
      <p><b>Email:</b> {{ user.email }}</p>
      <p><b>Status:</b> <span class="badge bg-success">Active</span></p>
    </div>
  </div>

  <!-- âœ… TOTAL EXPENSE CARD -->
  <div class="col-md-4">
    <div class="card shadow p-3 text-center">
      <h5 class="text-danger">ðŸ’° Total Expense</h5>
      <h2 class="mt-3">â‚¹ {{ "%.2f"|format(total) }}</h2>
      <p class="text-muted">All-time spending</p>
    </div>
  </div>

  <!-- âœ… TOTAL ENTRIES -->
  <div class="col-md-4">
    <div class="card shadow p-3 text-center">
      <h5 class="text-info">ðŸ“Š Total Transactions</h5>
      <h2 class="mt-3">{{ expenses|length }}</h2>
      <p class="text-muted">Number of expenses added</p>
    </div>
  </div>

</div>

<!-- âœ… EXPENSE TABLE -->
<div class="card shadow p-3">
  <h5 class="mb-3 text-secondary">ðŸ§¾ Expense History</h5>

  <table class="table table-bordered table-hover">
    <tr class="table-dark">
      <th>Title</th>
      <th>Amount</th>
      <th>Category</th>
      <th>Note</th>
      <th>Date</th>
      <th>Action</th>
    </tr>

    {% for e in expenses %}
    <tr>
      <td>{{ e.title }}</td>
      <td>â‚¹ {{ e.amount }}</td>
      <td>{{ e.category or "-" }}</td>
      <td>{{ e.note or "-" }}</td>
      <td>{{ e.created_at.strftime("%d-%m-%Y") }}</td>
      <td>
        <form method="POST" action="/delete/{{ e.id }}">
          <button class="btn btn-danger btn-sm">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </table>
</div>

{% endblock %}
